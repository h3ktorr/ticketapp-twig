{% extends "partials/layout.twig" %}

{% block content %}

<main class="tickets-container">
  <div class="tickets-header">
    <h2>Tickets</h2>
    <button class="btn">
      <a href="/tickets/new" class="btn">New Ticket</a>
    </button>
  </div>

  <ul class="ticket-list">
    {% for ticket in tickets %}
      <li class="ticket-card">
        <div class="single-ticket-header">
          <h3>{{ ticket.title }}</h3>
          <div class="status {{ ticket.status }}">{{ ticket.status }}</div>
        </div>
        <p>{{ ticket.description }}</p>
        <div class="ticket-actions">
          <button class="btn">
            <a href="/tickets/{{ ticket.id }}" class="btn">Edit</a>
          </button>
          <form method="post" action="/tickets/{{ ticket.id }}/delete" style="display:inline">
            <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this ticket?')">
              Delete
            </button>
          </form>
        </div>
      </li>
    {% else %}
      <p>No tickets found.</p>
    {% endfor %}
  </ul>
</main>

{% endblock %}
